@model CreateCommentDto
<div class="col-md-6">
	<h4 class="mb-4">Leave a review</h4>
	<small>E-posta adresiniz yayınlanmayacak. Gerekli alanlar * ile işaretlenmiştir.</small>


	<form asp-action="CreateComment" asp-controller="Comment">

		<input type="hidden" asp-for="ProductId" value="@ViewBag.ProductIdSendComment" />
		<div class="d-flex my-3">
			<p class="mb-0 mr-2">Puanınız * :</p>
			<div class="text-primary rating-stars">
				<i class="fas fa-star" data-value="1"></i>
				<i class="far fa-star" data-value="2"></i>
				<i class="far fa-star" data-value="3"></i>
				<i class="far fa-star" data-value="4"></i>
				<i class="far fa-star" data-value="5"></i>
			</div>
		</div>
		<input type="hidden" asp-for="Rating" id="ratingValue" />
		<input type="hidden" asp-for="ProductId" value="@ViewBag.ProductIdSendComment" />
		<div class="form-group">
			<label for="message">Yorumunuz *</label>
			<textarea id="message" cols="30" rows="5" class="form-control" asp-for="CommentDetail"></textarea>
		</div>
		<div class="form-group">
			<label for="name">Adınız ve Soyadınız *</label>
			<input type="text" class="form-control" id="name" asp-for="NameSurname">
		</div>
		<div class="form-group">
			<label for="email">Email Adresiniz *</label>
			<input type="email" class="form-control" id="email" asp-for="Email">
		</div>
		<div class="form-group mb-0">
			<input type="submit" value="Yorum Yap" class="btn btn-primary px-3">
		</div>
	</form>
</div>
<script>
	const stars = document.querySelectorAll(".rating-stars i");
	const ratingInput = document.getElementById("ratingValue");

	stars.forEach(star => {
		star.addEventListener("click", function () {
			let value = this.getAttribute("data-value");
			ratingInput.value = value;
			console.log("Seçilen rating:", value);

			stars.forEach(s => {
				if (s.getAttribute("data-value") <= value) {
					s.classList.remove("far");
					s.classList.add("fas");
				} else {
					s.classList.remove("fas");
					s.classList.add("far");
				}
			});
		});
	});
</script>
