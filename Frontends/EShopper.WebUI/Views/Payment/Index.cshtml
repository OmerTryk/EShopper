@{
    ViewData["Title"] = "Ödeme Sayfası";
    Layout = "~/Views/UILayout/_UILayout.cshtml";
}

<div class="container py-5">
    <div class="row">
        <!-- Kart Önizleme -->
        <div class="col-lg-6 mb-5 d-flex justify-content-center">
            <div class="credit-card-wrapper">
                <div class="credit-card">
                    <div class="card-front">
                        <div class="card-chip"></div>
                        <div class="card-number" id="displayCardNumber">#### #### #### ####</div>
                        <div class="card-name" id="displayCardName">AD SOYAD</div>
                        <div class="card-expiry" id="displayCardExpiry">MM/YY</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Ödeme Formu -->
        <div class="col-lg-6">
            <h4 class="font-weight-semi-bold mb-4">Ödeme Bilgileri</h4>
            <form>
                <div class="form-group">
                    <label for="cardName">Ad Soyad</label>
                    <input type="text" class="form-control" id="cardName" placeholder="Adınız Soyadınız">
                </div>
                <div class="form-group">
                    <label for="cardNumber">Kart Numarası</label>
                    <input type="text" class="form-control" id="cardNumber" maxlength="19" placeholder="#### #### #### ####">
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="cardExpiry">Son Kullanma Tarihi</label>
                        <input type="text" class="form-control" id="cardExpiry" maxlength="5" placeholder="MM/YY">
                    </div>
                    <div class="form-group col-md-6">
                        <label for="cardCVC">CVC</label>
                        <input type="text" class="form-control" id="cardCVC" maxlength="3" placeholder="CVC">
                    </div>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Ödemeyi Tamamla</button>
            </form>
        </div>
    </div>
</div>

<style>
    .credit-card-wrapper {
        perspective: 1000px;
    }

    .credit-card {
        width: 400px;
        height: 220px;
        border-radius: 15px;
        background: linear-gradient(135deg, #667eea, #764ba2);
        color: white;
        padding: 20px;
        position: relative;
        box-shadow: 0 10px 25px rgba(0,0,0,0.3);
    }

    .card-chip {
        width: 60px;
        height: 40px;
        background: gold;
        border-radius: 8px;
        margin-bottom: 20px;
    }

    .card-number {
        font-size: 1.4rem;
        letter-spacing: 3px;
        margin-bottom: 30px;
    }

    .card-name, .card-expiry {
        font-size: 1rem;
        text-transform: uppercase;
    }

    .card-name {
        position: absolute;
        bottom: 20px;
        left: 20px;
    }

    .card-expiry {
        position: absolute;
        bottom: 20px;
        right: 20px;
    }
</style>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const cardName = document.getElementById("cardName");
        const cardNumber = document.getElementById("cardNumber");
        const cardExpiry = document.getElementById("cardExpiry");

        const displayName = document.getElementById("displayCardName");
        const displayNumber = document.getElementById("displayCardNumber");
        const displayExpiry = document.getElementById("displayCardExpiry");

        cardName.addEventListener("input", function () {
            displayName.textContent = cardName.value || "AD SOYAD";
        });

        cardNumber.addEventListener("input", function () {
            let val = cardNumber.value.replace(/\D/g, '');
            let formatted = val.replace(/(.{4})/g, '$1 ').trim();
            cardNumber.value = formatted;
            displayNumber.textContent = formatted || "#### #### #### ####";
        });

        cardExpiry.addEventListener("input", function () {
            let val = cardExpiry.value.replace(/\D/g, '');
            if (val.length >= 3) {
                val = val.substring(0, 2) + "/" + val.substring(2, 4);
            }
            cardExpiry.value = val;
            displayExpiry.textContent = val || "MM/YY";
        });
    });
</script>
